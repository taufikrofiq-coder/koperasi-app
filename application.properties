# ========================
# SERVER CONFIGURATION
# ========================
server.port=2121
server.servlet.context-path=/

# ========================
# DATABASE CONFIGURATION
# ========================
spring.datasource.url=jdbc:postgresql://localhost:5432/appdanaku
spring.datasource.username=postgres
spring.datasource.password=Bismillah
spring.datasource.driver-class-name=org.postgresql.Driver

# HikariCP Connection Pool
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.pool-name=SpringBootJPAHikariCP

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=update

# ========================
# FILE UPLOAD CONFIGURATION
# ========================
spring.application.name=dataku-local-drive
file.upload-dir=uploads
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10GB
spring.servlet.multipart.max-request-size=10GB
spring.servlet.multipart.file-size-threshold=2KB

# ========================
# SECURITY / ENCRYPTION
# ========================
aes.secret.key=bmisecretkey2024
aes.iv=1234567890123456
jwt.secret=1234567890123456789012345678901234567890123456789012345678901234
jwt.expiration.in.ms=3600000



# ========================
# ERROR HANDLING
# ========================
server.error.include-message=always
server.error.include-stacktrace=always

# ========================
# LOCAL DRIVE CONFIGURATION
# ========================
directory.file=D:/data/Taufik

# ========================
# SECURITY DISABLE FOR TESTING
# ========================
# DISABLE SPRING SECURITY COMPLETELY
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration

# ========================
# CORS CONFIGURATION
# ========================
cors.allowed-origins=*
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS,PATCH,HEAD
cors.allowed-headers=*
cors.allow-credentials=true

# ========================
# LOGGING FOR DEBUG
# ========================
logging.level.root=INFO
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.security=OFF


# ========================
# SESSION MANAGEMENT
# ========================
spring.session.store-type=none
server.servlet.session.timeout=30m


# ========================
# DISABLE SPRING SECURITY COMPLETELY
# ========================

# ========================
# THYMELEAF CONFIGURATION
# ========================
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.mode=HTML
spring.thymeleaf.encoding=UTF-8
spring.thymeleaf.servlet.content-type=text/html
spring.thymeleaf.cache=false

# ========================
# STATIC RESOURCES
# ========================


# ========================
# LOGGING
# ========================

logging.level.org.springframework=WARN
logging.level.com.dataku.data=DEBUG


logging.level.com.dataku.data.config.JwtAuthenticationFilter=DEBUG


# application.properties


# Spring Boot Static Resources Configuration
spring.web.resources.static-locations=classpath:/static/
spring.mvc.static-path-pattern=/**

# Disable caching for development
spring.web.resources.cache.period=0
spring.web.resources.chain.cache=false

# Show static resource mapping

logging.level.org.springframework.web.resource=DEBUG

api.base-url=http://localhost:2121

# ================= TRANSAKSI =================
api.endpoint.transaksi.saldo=/api/transaksi/saldo
api.endpoint.transaksi.saldo-by-rekening=/api/transaksi/saldo
api.endpoint.transaksi.create=/api/transaksi/create

# ================= USERS =================
api.endpoint.users.create=/api/users/create
api.endpoint.users.by-username=/api/users/username
api.endpoint.users.by-rekening=/api/users/rekening

# ================= PEMBIAYAAN =================
api.endpoint.pembiayaan.total-pokok=/api/pembiayaan-detail/total-pokok-belum-bayar

# ================= PENDAPATAN =================
api.endpoint.pendapatan.total=/api/pendapatan/total

